# v1.9.0

## 패키지 다운로드

### RPM <a id="rpm"></a>

Cypress 패키지

- [kcnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-v1.9.0-0.el7.x86_64.rpm)
- [kend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-v1.9.0-0.el7.x86_64.rpm)

Baobab 패키지

- [kcnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kend-baobab-Baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-baobab-v1.9.0-0.el7.x86_64.rpm)

공통 패키지

- [kscnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kscnd-v1.9.0-0.el7.x86_64.rpm)
- [kspnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kspnd-v1.9.0-0.el7.x86_64.rpm)
- [ksend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/ksend-v1.9.0-0.el7.x86_64.rpm)
- [kbnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kbnd-v1.9.0-0.el7.x86_64.rpm)
- [kgen-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0.el7.x86_64.rpm)
- [homi-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0.el7.x86_64.rpm)

### Linux <a id="linux"></a>

Cypress 패키지

- [kcn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-linux-amd64.tar.gz)
- [ken-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-linux-amd64.tar.gz)

Baobab 패키지

- [kcn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-linux-amd64.tar.gz)

공통 패키지

- [kscn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-linux-amd64.tar.gz)
- [kspn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-linux-amd64.tar.gz)
- [ksen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-linux-amd64.tar.gz)
- [kbn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-linux-amd64.tar.gz)
- [kgen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-linux-amd64.tar.gz)
- [homi-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-linux-amd64.tar.gz)

### MacOS <a id="macos"></a>

Cypress 패키지

- [kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-darwin-10.10-amd64.tar.gz)

Baobab 패키지

- [kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)

공통 패키지

- [kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-darwin-10.10-amd64.tar.gz)

### Windows <a id="windows"></a>

- 아직 지원되지 않음

## 릴리스 노트

Klaytn v1.9.0에는 이더리움 하드포크와 같이 이전 버전과 호환되지 않는 변경을 초래하는 프로토콜 업그레이드가 포함되어 있습니다. 따라서 모든 Baobab/Cypress 노드는 목표 블록 번호 이전에 v1.9.0 이상으로 업그레이드해야 합니다. 하드포크의 이름은 'Magma'입니다. 이 하드포크에는 [KIP71](https://kips.klaytn.foundation/KIPs/kip-71)에서 제안한 동적 가스 가격 메커니즘의 구현이 포함되어 있습니다.

예정된 하드포크 일정은 다음과 같습니다:
Magma 하드포크 블록 번호 및 예상 날짜

- Baobab: `98347376` 11:00 AM (UTC+9) Aug 8
- Cypress: `99841497` 11:00 AM (UTC+9) Aug 29

참고: 이 버전은 스냅샷 동기화를 지원하도록 데이터베이스 버전을 업데이트합니다. v1.9.0으로 업데이트한 후에는 기존 데이터가 있는 이전 버전으로 다운그레이드할 수 없습니다.

참고: 이 버전에서는 스냅샷 동기화가 제공되지만 아직 기본값으로 활성화되어 있지 않습니다. 제대로 동기화하려면 원격 피어에서 상태 스냅샷이 생성되어야 하지만 아직 준비되지 않았습니다. `--syncmode snap`을 사용하여 수동으로 스냅샷 동기화를 활성화할 수 있지만, 몇 주 후에 적합한 피어를 찾을 수 있을 것으로 예상됩니다. 이 기능은 현재 실험 단계에 불과합니다.

## 프로토콜 업그레이드(하드포크) 기능

- 동적 가스 가격 메커니즘 구현 (#1442 #1452 #1493 #1501 #1518 #1519 #1530 #1537 #1538)
- 동적 가스 메커니즘을 지원하는 API 구현 (#1520)
  - `klay_upperBoundGasPrice`는 동적 가스 가격의 최대값을 반환합니다.
  - `klay_lowerBoundGasPrice`는 동적 가스 가격의 최소값을 반환합니다.
- Magma 하드포크 이후 `2 * currentBlock.baseFee`를 제안하도록 `klay_gasPrice` 업데이트 (#1534)

### 새로운 기능

- 스냅샷 동기화 개발(#1434 #1435 #1441 #1443 #1450 #1451 #1455 #1456 #1457 #1469 #1473 #1524)

### 개선 사항

- 변경 설정 크기가 다른 블록 헤더의 무효화 (#1220)
- 블록 생성 사이의 동적 대기 시간 추가 (#1340)
- callTracer 및 fastCallTracer가 자체 소멸 작업에 대해 더 자세히 설명하도록 업데이트됨 (#1343).
- 데이터베이스에 저장하도록 BadBlock 처리 로직 리팩터링 (#1371)
- 수수료 위임 tx에 대한 txpool 유효성 검사 로직 개선 (#1372)
- rlp 패키지 도입 및 rlp 관련 로직 업데이트 (#1385)
- `klay_call`, `klay_estimateGas`에 상세 리턴 메시지 추가 (#1408)
- kpn, kcn, kbn과 함께 도커를 사용하여 데몬 실행 지원 \*#1476)
- 바이너리 버전 표시를 위한 상수 메트릭 추가 (#1488)

### 수정

- 내부 insta-fail를 처리하는 트레이서 수정 (#1352)
- HandleGovernanceVote에서 checkVote() 실패 시 투표 제거 (#1367)
- 닫힌 채널을 즉시 읽도록 multiChannelPeer ReadMsg 루프를 수정했습니다 (#1389).
- 트랜잭션 정렬에서 잠재적인 버퍼 오버런을 수정했습니다 (#1398).
- 서비스체인과 관련된 동시성 API 호출 버그 수정 (#1438)
- 6명 이하의 검증인들로 필수 합의 메시지 증가 (#1462)
- 누락된 Gini 필드를 GetStakingInfo 결과에 채웠습니다 (#1464).
- 스냅샷과 관련된 잘못된 API 반환 수정 (#1468)
- 가격 필드가 없는 트랜잭션에 대한 무료 DoCall 수정 (#1540)
- 트레이서 출력 변환 로직에 대한 유효성 검사 강화 (#1549)

### 기타

- 사소한 유지 보수(#766 #1157 #1227 #1316 #1362 #1500 #1515)
