# v1.7.0

## 패키지 다운로드

### RPM <a id="rpm"></a>

Cypress 패키지

- [kcnd-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kcnd-v1.7.0-0.el7.x86_64.rpm)
- [kpnd-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kpnd-v1.7.0-0.el7.x86_64.rpm)
- [kend-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kend-v1.7.0-0.el7.x86_64.rpm)

Baobab 패키지

- [kcnd-baobab-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kcnd-baobab-v1.7.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kpnd-baobab-v1.7.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kend-baobab-v1.7.0-0.el7.x86_64.rpm)

공통 패키지

- [kscnd-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kscnd-v1.7.0-0.el7.x86_64.rpm)
- [kspnd-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kspnd-v1.7.0-0.el7.x86_64.rpm)
- [ksend-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/ksend-v1.7.0-0.el7.x86_64.rpm)
- [kbnd-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kbnd-v1.7.0-0.el7.x86_64.rpm)
- [kgen-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/kgen-v1.7.0-0.el7.x86_64.rpm)
- [homi-v1.7.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.7.0/homi-v1.7.0-0.el7.x86_64.rpm)

### Linux <a id="linux"></a>

Cypress 패키지

- [kcn-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kcn-v1.7.0-0-linux-amd64.tar.gz)
- [kpn-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kpn-v1.7.0-0-linux-amd64.tar.gz)
- [ken-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/ken-v1.7.0-0-linux-amd64.tar.gz)

Baobab 패키지

- [kcn-baobab-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kcn-baobab-v1.7.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kpn-baobab-v1.7.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/ken-baobab-v1.7.0-0-linux-amd64.tar.gz)

공통 패키지

- [kscn-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kscn-v1.7.0-0-linux-amd64.tar.gz)
- [kspn-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kspn-v1.7.0-0-linux-amd64.tar.gz)
- [ksen-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/ksen-v1.7.0-0-linux-amd64.tar.gz)
- [kbn-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kbn-v1.7.0-0-linux-amd64.tar.gz)
- [kgen-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kgen-v1.7.0-0-linux-amd64.tar.gz)
- [homi-v1.7.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/homi-v1.7.0-0-linux-amd64.tar.gz)

### MacOS <a id="macos"></a>

Cypress 패키지

- [kcn-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kcn-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kpn-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/ken-v1.7.0-0-darwin-10.10-amd64.tar.gz)

Baobab 패키지

- [kcn-baobab-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kcn-baobab-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kpn-baobab-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/ken-baobab-v1.7.0-0-darwin-10.10-amd64.tar.gz)

공통 패키지

- [kscn-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kscn-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kspn-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/ksen-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kbn-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/kgen-v1.7.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.7.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.7.0/homi-v1.7.0-0-darwin-10.10-amd64.tar.gz)

### Windows <a id="windows"></a>

- 아직 지원되지 않음

## 릴리스 노트

Klaytn v1.7.0에는 이더리움 하드포크와 같은 호환되지 않는 변경을 초래할 수 있는 프로토콜 업그레이드를 위한 중요한 변경 사항이 포함되어 있습니다.
이 버전에서는 11월 15일로 예상되는 블록 #75373312 에서 Baobab 테스트넷에 대한 프로토콜 업그레이드가 가능합니다. Cypress 메인넷은 다음 버전에서 동일한 프로토콜 업그레이드가 적용될 예정입니다.

## 프로토콜 업그레이드 기능

- 이더리움 Istanbul 하드포크 아이템 소개
  - EIP-152: 주소 0x09(#960 #1010)에 사전 컴파일된 컨트랙트인 BLAKE2F를 도입했습니다.
  - EIP-1108: 사전 컴파일된 컨트랙트, ECADD, ECMUL 및 페어링 체크의 가스 비용 재조정 (#987)
  - EIP-1344: 0x46에 새로운 연산 코드 CHAINID 도입(#952)
  - EIP-1844: 0x47에 새로운 Opcode SELFBALANCE를 도입. SLOAD, BALANCE 및 EXTCODEHASH의 가스 비용을 재조정합니다(#958).
  - EIP-2200: Opcode SSTORE의 가스 미터링 알고리즘 변경(#996)

- 클레이튼 사전 컴파일된 컨트랙트의 주소 변경 (#912)
  - vmLog: 0x09 → 0x3fd
  - feePayer: 0x0a → 0x3fe
  - validateSender: 0x0b → 0x3ff
  - 호환되지 않는 변경 활성화 전에 배포된 컨트랙트는 활성화 후 실행된 트랜잭션에 대해서도 이전처럼 계속 작동합니다.

- 레거시 유형 트랜잭션의 데이터 필드에 대한 가스비 계산 로직 변경(#986)
  - 이 변경으로 모든 트랜잭션 유형에 대해 동일한 데이터 수수료 계산 로직이 적용됩니다.

- 다중 서명 트랜잭션의 유효성 검사 및 가스 계산 로직 개선(#1001)
  - 다중서명 트랜잭션의 서명 검증 수수료는 고유 서명 수에 비례합니다.
  - 계정의 계정키 최대 개수보다 많은 서명이 포함된 트랜잭션은 유효하지 않습니다.
  - 유효하지 않은 서명이 하나 이상 포함된 트랜잭션은 유효하지 않습니다.

- 가격이 비싼 연산 코드의 계산 비용 감소(#1033)
  - 영향을 받는 연산자: addmod, mulmod, not, xor, shl, shr, sar.

- 거버넌스 항목으로 검증인의 최소 스테이킹 금액 도입(#920 #963 #1023 #1024 #1034)
  - 검증자가 충분한 KLAY를 스테이킹하지 않으면 해당 노드는 제안자 또는 위원회 멤버로 선정되지 않습니다.

- 매 라운드 변경 시 무작위로 새로운 위원회 위원 선정 (#997)

### 새로운 기능

- 블록 헤더를 반환하는 두 개의 klay API: klay_getHeaderByNumber와 klay_getHeaderByHash 도입(#975).
- 강등된 유효성 검사기를 반환하는 두 개의 istanbul API를 소개합니다(#974).
  - istanbul_getDemotedValidators: 주어진 블록 번호에서 강등된 검증자를 반환합니다.
  - istanbul_getDemotedValidatorsAtHash: 주어진 블록 해시에서 강등된 검증자를 반환합니다.
  - 강등된 검증자는 검증자 중 하나이지만 KLAY 스테이킹이 충분하지 않아 제안자나 위원회 멤버가 될 수 없습니다.
- 제네시스 블록을 JSON 형식으로 반환하는 dumpgenesis 명령 도입(#992)
- 모든 오류 사례에 대해 요청을 재시도할 수 있는 DynamoS3DB용 CustomRetryer 도입 (#982)
- 블록 생성 시간과 관련된 실험적 플래그 도입 (#989)
  - 블록 생성 간격 플래그: 연속된 두 블록 사이의 블록 생성 간격을 결정합니다(CN에만 해당).
  - BlockGenerationTimeLimitFlag: 블록 생성 중 가상머신 실행 시간 제한 설정 (CN에만 해당)
  - OpcodeComputationCostLimitFlag: 트랜잭션의 연산 비용 제한을 설정합니다.

### 개선 사항

- 블록 매개변수 유형을 블록 번호 또는 블록 해시에서 block number or hash(#975)로 변경했습니다.
  - 영향을 받는 API: klay_accountCreated, klay_getAccount, klay_getAccountKey, klay_getBalance, klay_getCode, klay_getTransactionCount, klay_isContractAccount, klay_getBlockByNumber, klay_getBlockTransactionCountByNumber, klay_getBlockWithConsensusInfoByNumber, klay_getCommittee, klay_getCommitteeSize, klay_getCouncil, klay_getCouncilSize, klay_getStorageAt, klay_getLogs, klay_newFilter, klay_call, klay_getTransactionByBlockNumberAndIndex, debug_dumpBlock, debug_getBlockRlp, debug_printBlock 및 governance_itemsAt.
- 클레이튼 클라이언트에 SetHeader 메서드 추가 (#1020)
- dirtyStorage를 더 정확하게 활용 (#993)
- maxRequestContentlength로 fastHttpServer의 요청 본문 크기 제한 설정 (#1029)
- 디버그 API에서 UseOpcodeComputationCost EVM 옵션 활성화 (#1035)
- 헤더를 동기적으로 확인하도록 Istanbul 컨센서스 엔진 업데이트 (#957)
- 비 단일 타입 DB를 지원하도록 상태 마이그레이션 기능 개선 (#954)

### 수정

- state.NewForPrefetching의 비정상적인 반환 처리 (#1011)
- 엣지 케이스에서 거버넌스 투표의 비정상적인 적용 수정 (#1018)

### 기타

- 두 개의 관리자 API 이름 변경(#971)
  - admin_startRPC → admin_startHTTP
  - admin_stopRPC → admin_stopHTTP
  - 이전 이름은 더 이상 사용되지 않지만 여전히 사용할 수 있습니다.
