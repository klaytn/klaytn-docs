# v1.9.0

## Gói tải về <a id="package-downloads"></a>

### RPM <a id="rpm"></a>

Gói Cypress

- [kcnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-v1.9.0-0.el7.x86_64.rpm)
- [kend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-v1.9.0-0.el7.x86_64.rpm)

Gói Baobab

- [kcnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-baobab-v1.9.0-0.el7.x86_64.rpm)

Gói thường

- [kscnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kscnd-v1.9.0-0.el7.x86_64.rpm)
- [kspnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kspnd-v1.9.0-0.el7.x86_64.rpm)
- [ksend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/ksend-v1.9.0-0.el7.x86_64.rpm)
- [kbnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kbnd-v1.9.0-0.el7.x86_64.rpm)
- [kgen-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0.el7.x86_64.rpm)
- [homi-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0.el7.x86_64.rpm)

### Linux <a id="linux"></a>

Gói Cypress

- [kcn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-linux-amd64.tar.gz)
- [ken-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-linux-amd64.tar.gz)

Gói Baobab

- [kcn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-linux-amd64.tar.gz)

Gói thường

- [kscn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-linux-amd64.tar.gz)
- [kspn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-linux-amd64.tar.gz)
- [ksen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-linux-amd64.tar.gz)
- [kbn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-linux-amd64.tar.gz)
- [kgen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-linux-amd64.tar.gz)
- [homi-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-linux-amd64.tar.gz)

### MacOS <a id="macos"></a>

Cypress Packages

- [kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-darwin-10.10-amd64.tar.gz)

Baobab Packages

- [kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)

Common Packages

- [kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-darwin-10.10-amd64.tar.gz)

### Windows <a id="windows"></a>

- Chưa được hỗ trợ

## Lưu ý cho bản phát hành <a id="release-notes"></a>

Klaytn v1.9.0 chứa bản cập nhật giao thức có thể dẫn đến những thay đổi không tương thích ngược, chẳng hạn như hardfork Ethereum. Do đó, tất cả các nút Baobab/Cypress phải được cập nhật lên v1.9.0 hoặc cao hơn trước số khối mục tiêu. Tên của hardfork là 'Magma'. Hardfork chứa bản triển khai của cơ chế giá gas linh hoạt được đề xuất trong [KIP71](https://kips.klaytn.foundation/KIPs/kip-71).

Lịch trình hardfork dự kiến như sau: Magma hardfork blocknumber & ngày dự tính
Magma hardfork blocknumber & estimated date

- Baobab: `98347376` 09:00 ngày 08/08 (Giờ Việt Nam)
- Cypress: `99841497` 9:00 ngày 29/08 (Giờ Việt Nam)

LƯU Ý: Phiên bản này cập nhật phiên bản cơ sở dữ liệu để hỗ trợ việc đồng bộ thu thập dữ liệu. Bạn không thể quay lại các phiên bản cũ hơn với dữ liệu hiện có sau khi cập nhật lên v1.9.0.

LƯU Ý: Đồng hóa dữ liệu thu thập được đưa vào phiên bản này nhưng chưa được kích hoạt theo mặc định. Dữ liệu thu thập trạng thái nên được tạo trên các máy ngang hàng từ xa để đồng bộ hóa đúng cách, nhưng tính năng này chưa sẵn sàng. Bạn có thể kích hoạt đồng bộ hóa dữ liệu thu thập theo cách thủ công bằng hàm `--syncmode snap`, nhưng xin lưu ý rằng thời gian dự kiến để hàm tìm ra các máy ngang hàng phù hợp là sau vài tuần. Tính năng này hiện chỉ mới đang trong giai đoạn thử nghiệm.

## Tính năng cập nhật giao thức(hardfork)

- Triển khai cơ chế giá gas linh hoạt (#1442 #1452 #1493 #1501 #1518 #1519 #1530 #1537 #1538)
- Triển khai các API để hỗ trợ cơ chế gas linh hoạt (#1520)
  - `klay_upperBoundGasPrice` trả về giá trị tối đa của giá gas linh hoạt
  - `klay_lowerBoundGasPrice` trả về giá trị tối thiểu của giá gas linh hoạt
- Cập nhật `klay_gasPrice` để đề xuất `2 * currentBlock.baseFee` sau hardfork Magama (#1534)

### Tính năng mới

- Phát triển đồng bộ hóa dữ liệu (#1434 #1435 #1441 #1443 #1450 #1451 #1455 #1456 #1457 #1469 #1473 #1524)

### Cải thiện

- Vô hiệu hóa tiêu đề khối có kích thước changeSet khác biệt (#1220)
- Thêm thời gian chờ linh hoạt giữa các lần tạo khối (#1340)
- Cập nhật callTracer và fastCallTracer để mô tả tốt hơn cho việc vận hành SELFDESTRUCT (#1343)
- Tái cấu trúc logic xử lý BadBlock để lưu giữ trong cơ sở dữ liệu (#1371)
- Cải thiện logic xác thực txpool cho tx ủy thác phí (#1372)
- Giới thiệu gói rlp và cập nhật logic liên quan đến rlp (#1385)
- Thêm tin nhắn đặt lại chi tiết tại `klay_call`, `klay_estimateGas` (#1408)
- Hỗ trợ thực thi daemon bằng cách sử dụng Docker với kpn, kcn và kbn \*#1476)
- Thêm thông số bất biến để hiển thị phiên bản nhị phân (#1488)

### Sửa lỗi

- Sửa trình theo dõi để xử lý lỗi insta-fail nội bộ (#1352)
- Gỡ bình chọn khi checkVote() không thành công trong HandleGovernanceVote (#1367)
- Sửa lỗ hổng multiChannelPeer ReadMsg để đọc ch đóng ngay lập tức (#1389)
- Sửa lỗi tràn bộ nhớ đệm có thể xảy ra khi phân loại giao dịch (#1398)
- Sửa lỗi gọi API đồng thời liên quan đến chuỗi dịch vụ (#1438)
- Tăng số tin nhắn đồng thuận bắt buộc với tối đa sáu nút xác thực (#1462)
- Điền vào trường Gini còn thiếu để lấy kết quả GetStakingInfo (#1464)
- Sửa giá trị trả về sai của API liên quan đến dữ liệu thu thập (#1468)
- Sửa DoCall miễn phí cho giao dịch không có các trường giá (#1540)
- Cải thiện việc xác thực cho logic chuyển đổi đầu ra trình theo dõi (#1549)

### Khác

- Một số bảo trì nhỏ (#766 #1157 #1227 #1316 #1362 #1500 #1515)
