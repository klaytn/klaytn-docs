# v1.5.0

## Gói tải về <a id="package-downloads"></a>

### RPM <a id="rpm"></a>

Gói Cypress
- [kcnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kcnd-v1.5.0-0.el7.x86_64.rpm)
- [kpnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kpnd-v1.5.0-0.el7.x86_64.rpm)
- [kend-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kend-v1.5.0-0.el7.x86_64.rpm)

Gói Baobab
- [kcnd-baobab-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kcnd-baobab-v1.5.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kpnd-baobab-v1.5.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kend-baobab-v1.5.0-0.el7.x86_64.rpm)

Gói thường
- [kscnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kscnd-v1.5.0-0.el7.x86_64.rpm)
- [kspnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kspnd-v1.5.0-0.el7.x86_64.rpm)
- [ksend-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/ksend-v1.5.0-0.el7.x86_64.rpm)
- [kbnd-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kbnd-v1.5.0-0.el7.x86_64.rpm)
- [kgen-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/kgen-v1.5.0-0.el7.x86_64.rpm)
- [homi-v1.5.0-0.el7.x86_64.rpm](http://packages.klaytn.net/klaytn/v1.5.0/homi-v1.5.0-0.el7.x86_64.rpm)

### Linux <a id="linux"></a>

Gói Cypress
- [kcn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-v1.5.0-0-linux-amd64.tar.gz)
- [kpn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-v1.5.0-0-linux-amd64.tar.gz)
- [ken-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-v1.5.0-0-linux-amd64.tar.gz)

Gói Baobab
- [kcn-baobab-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-baobab-v1.5.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-baobab-v1.5.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-baobab-v1.5.0-0-linux-amd64.tar.gz)

Gói thường
- [kscn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kscn-v1.5.0-0-linux-amd64.tar.gz)
- [kspn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kspn-v1.5.0-0-linux-amd64.tar.gz)
- [ksen-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ksen-v1.5.0-0-linux-amd64.tar.gz)
- [kbn-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kbn-v1.5.0-0-linux-amd64.tar.gz)
- [kgen-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kgen-v1.5.0-0-linux-amd64.tar.gz)
- [homi-v1.5.0-0-linux-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/homi-v1.5.0-0-linux-amd64.tar.gz)

### MacOS <a id="macos"></a>

Cypress Packages
- [kcn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-v1.5.0-0-darwin-10.10-amd64.tar.gz)

Baobab Packages
- [kcn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kcn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kpn-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ken-baobab-v1.5.0-0-darwin-10.10-amd64.tar.gz)

Common Packages
- [kscn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kscn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kspn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/ksen-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kbn-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/kgen-v1.5.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.5.0-0-darwin-10.10-amd64.tar.gz](http://packages.klaytn.net/klaytn/v1.5.0/homi-v1.5.0-0-darwin-10.10-amd64.tar.gz)


### Windows <a id="windows"></a>

- Chưa được hỗ trợ


## Lưu ý cho bản phát hành Klaytn v1.5.0 <a id="release-notes-for-klaytn-v1-5-0"></a>

### Tính năng mới <a id="new-features"></a>
- State migration (https://github.com/klaytn/klaytn/pull/507)
    - API JSON-RPC mới sẽ gỡ trie trạng thái/lưu trữ cũ không cần thiết, tiết kiệm không gian lưu trữ cho nút Klaytn (Cypress) được 75% (800 GB -> 200 GB)
        - admin.startStateMigration()
        - admin.stopStateMigration()
        - admin.stateMigrationStatus
    - Nút Klaytn hiện giờ yêu cầu 1TB không gian lưu trữ. Kích thước lưu trữ này là nặng nề làm ảnh hưởng việc nút vận hành hiệu quả và state migration sẽ giải quyết vấn đề này. State migration gỡ bỏ các nút trie trạng thái/lưu trữ cũ không còn cần thiết cho việc tạo và xác thực khối mới. Trước khi bắt đầu quá trình state migration, `stakingInfo` được lưu vào cơ sở dữ liệu để lấy `stakingInfo` không có trạng thái cũ sau khi thực hiện state migration.

- Khởi động bộ nhớ đệm nút trie (https://github.com/klaytn/klaytn/pull/548)
    - API JSON-RPC mới sẽ tăng tốc xử lý khối bằng cách lặp lại trie trạng thái mới nhất và lưu vào bộ nhớ đệm
        - debug.startWarmUp()
        - debug.stopWarmUp()
    - Cho đến lúc này, nút Klaytn đã liên tục truy cập cơ sở dữ liệu để xử lý khối theo nút trie trạng thái chưa lưu vào bộ nhớ đệm, gây ra trễ trong xử lý khối. Tính năng "khởi động" đã nói đến sẽ giảm độ trễ này bằng cách lặp lại trie trạng thái mới nhất và lưu vào bộ nhớ đệm.

- Nhập khối từ Chuỗi (https://github.com/klaytn/klaytn/pull/516)
  - Nhập khối chỉ dùng được với một tập tin. Nhập khối từ một chuỗi là bắt buộc với một số trường hợp sử dụng.
  - API JSON-RPC mới
    - admin.importChainFromString()

- Fastcache (https://github.com/klaytn/klaytn/pull/490)
    - Fastcache là cách lưu nút trie vào bộ nhớ đệm với kích thước bộ nhớ đệm tự điều chỉnh, giảm mức sử dụng bộ nhớ so với Bigcache

### Cải thiện <a id='improvements'></a>
- Tham số hóa triesInMemory và maxRequestContentLength (https://github.com/klaytn/klaytn/pull/555, https://github.com/klaytn/klaytn/pull/564)
- Sử dụng cơ sở dữ liệu trạng thái lưu bộ nhớ đệm trong TraceBlock (https://github.com/klaytn/klaytn/pull/546)
- Cải thiện logic đồng thuận
    - Thêm mã lệnh unit test (https://github.com/klaytn/klaytn/pull/487, https://github.com/klaytn/klaytn/pull/492)
    - Tải cấu trúc `SubList`/`SubListWithProposer` (https://github.com/klaytn/klaytn/pull/551)
    - Ngăn việc nút xác thực gửi tin nhắn đồng thuận khi nút xác thực không nằm trong Uỷ ban (https://github.com/klaytn/klaytn/pull/549)
    - Trình xử lý tin nhắn Istanbul hiện giờ sẽ kiểm tra người gửi có phải là thành viên của Uỷ ban không (https://github.com/klaytn/klaytn/pull/545)
- Ngăn việc `commit` hai lần khi nút đã dừng (https://github.com/klaytn/klaytn/pull/530)
- Tái cấu trúc trình quản lý staking (https://github.com/klaytn/klaytn/pull/515)
- Xây dựng và xuất bản docker image kiểu công khai (https://github.com/klaytn/klaytn/pull/491)
- Cải thiện Trace API
  - Thêm `txHash` vào `txTraceResult` (https://github.com/klaytn/klaytn/pull/488)
  - `tracer` hiện giờ có hỗ trợ `CREATE2` (https://github.com/klaytn/klaytn/pull/489)
  - `tracer` hiện giờ có báo cáo thông tin đặt lại giao dịch (https://github.com/klaytn/klaytn/pull/484)
- Cho phép chuỗi địa chỉ DNS bắt đầu với ký tự số để giải mã URL (https://github.com/klaytn/klaytn/pull/482)
- Gỡ bỏ thư mục nhà cung cấp (https://github.com/klaytn/klaytn/pull/498)

### Sửa lỗi <a id='fixes'></a>
- Tổ chức lại thứ tự dừng của mô-đun chuỗi khối (https://github.com/klaytn/klaytn/pull/535)
- Sửa lỗi `computeStateDB` để không tính toán số khối không tồn tại (https://github.com/klaytn/klaytn/pull/483)
- Ngăn không cho các tập tin bị ghi đè qua admin.exportChain (https://github.com/klaytn/klaytn/pull/480)
